import{_ as fe}from"./nodata-CSuNOf8O.js";/* empty css                                                               */import{_ as me,r as g,O as Ve,h as _,i as be,o as f,c as x,j as t,w as o,a as u,t as T,x as y,F as le,p as se,m as D,k as he,P as $e,n as xe,l as W,N as ee,E as r,q as pe,Q as Te,u as Ue,f as Le,I as Ne,R as Re,S as ve,T as Se,U as Ee,V as Fe,W as qe,v as ye,X as ze,Y as Be,Z as Oe,$ as Ye}from"./index-Bg3gHcLC.js";const De={class:"flag_tips"},Ie={class:"terms_section"},Pe={class:"terms_header"},je={class:"search_box"},Je={class:"terms_table"},Ae={class:"action-buttons"},Me={key:0,class:"pagination_box"},Xe={class:"btn_box"},He={class:"btn_box"},Ke={__name:"TermEdit",props:{langs:Array,loading:Boolean},emits:["update:modelValue","confirm","refresh"],setup(M,{expose:I,emit:Z}){const w=g(null),F=g([]),R=g(!1),b=g(""),m=g(1),k=g(10),v=g(0),h=g(!1),q=g(!1),U=g(null),c=g({id:"",original:"",comparison_text:""}),C=g(!1),V=g(!1),X={original:[{required:!0,message:"请输入原文",trigger:"blur"}],comparison_text:[{required:!0,message:"请输入对应术语",trigger:"blur"}]};let B=null;const G=()=>{B&&clearTimeout(B),B=setTimeout(()=>{m.value=1,S()},500)},H=s=>{k.value=s,m.value=1,S()},P=s=>{m.value=s,S()},S=async()=>{if(console.log("fetchTermsList 被调用，ID:",i.value.id),!i.value.id){console.log("没有ID，退出获取术语列表");return}R.value=!0;try{const s={page:m.value,limit:k.value};b.value.trim()&&(s.search=b.value.trim());const n=`/api/comparison/${i.value.id}/terms?${new URLSearchParams(s)}`;console.log("请求URL:",n);const L=await ee({url:`/api/comparison/${i.value.id}/terms`,method:"get",params:s});console.log("响应状态:",L.code),L.code===200?(F.value=L.data.data,v.value=L.data.total,console.log("术语列表设置成功，数量:",F.value.length,"总数:",v.value)):r.error(L.message||"获取术语列表失败")}catch(s){console.error("获取术语列表失败:",s),r.error("获取术语列表失败")}finally{R.value=!1}},E=(s,n,L)=>{w.value.clearValidate(["origin_lang","target_lang"]),i.value.origin_lang!=""&&i.value.target_lang!=""&&i.value.origin_lang==i.value.target_lang?L(new Error("源语种与对照语种不能一样")):L()},te={title:[{required:!0,message:"请填写术语标题",trigger:["blur","change"]}],origin_lang:[{required:!0,message:"请选择源语种",trigger:["blur","change"]},{validator:E,trigger:["blur","change"]}],target_lang:[{required:!0,message:"请选择对照语种",trigger:["blur","change"]},{validator:E,trigger:["blur","change"]}]},O=M,z=g(!1),i=g({id:"",title:"",origin_lang:"",target_lang:"",share_flag:"N"});Ve(z,s=>{console.log("visible 变化:",s,"localForm.id:",i.value.id),s&&i.value.id?(console.log("准备获取术语列表，ID:",i.value.id),Te(()=>{S()})):s&&!i.value.id?console.log("新建术语库模式，不获取术语列表"):console.log("弹窗关闭")});const j=Z,ne=s=>{console.log("TermEdit open 被调用，接收到的数据:",s);const n=s||{};i.value={id:"",title:"",origin_lang:"",target_lang:"",share_flag:"N",...n},console.log("localForm 设置后的值:",i.value),z.value=!0},oe=()=>{z.value=!1,F.value=[],b.value="",m.value=1,v.value=0,j("refresh")},re=async()=>{try{await w.value.validate(),j("confirm",i.value),oe()}catch(s){console.error("表单验证失败:",s)}};I({open:ne});const l=s=>{c.value={id:s.id,original:s.original,comparison_text:s.comparison_text},h.value=!0},e=async()=>{if(!V.value){V.value=!0;try{if(i.value.id)c.value={id:"",original:"",comparison_text:""},h.value=!0;else{if(!i.value.title||!i.value.origin_lang||!i.value.target_lang){r.warning("请先填写术语表标题、源语种和对照语种，然后保存术语库");return}try{C.value=!0,r.info("正在保存术语库，请稍候...");const s=await ee({url:"/api/comparison",method:"post",data:{title:i.value.title,origin_lang:i.value.origin_lang,target_lang:i.value.target_lang,share_flag:i.value.share_flag}});s.code===200?(i.value.id=s.data.id,r.success("术语库保存成功，现在可以新增术语了"),c.value={id:"",original:"",comparison_text:""},h.value=!0):r.error(s.message||"保存术语库失败")}catch(s){console.error("保存术语库失败:",s),r.error("保存术语库失败")}finally{C.value=!1}}}finally{V.value=!1}}},a=async()=>{try{if(await U.value.validate(),q.value=!0,c.value.id){const s=await ee({url:`/api/comparison/term/${c.value.id}`,method:"put",data:{original:c.value.original,comparison_text:c.value.comparison_text}});s.code===200?(r.success("编辑成功"),h.value=!1,S(),j("refresh")):r.error(s.message||"编辑失败")}else{if(!i.value.id){r.error("术语库未保存，无法新增术语");return}const s=await ee({url:`/api/comparison/${i.value.id}/terms`,method:"post",data:{original:c.value.original,comparison_text:c.value.comparison_text}});s.code===200?(r.success("新增成功"),h.value=!1,S(),j("refresh")):r.error(s.message||"新增失败")}}catch(s){console.error("操作术语失败:",s),r.error("操作术语失败")}finally{q.value=!1}},N=s=>{pe.confirm(`确定要删除这条术语记录吗？
原文：${s.original}
对应术语：${s.comparison_text}`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!1}).then(async()=>{try{const n=await ee({url:`/api/comparison/term/${s.id}`,method:"delete"});n.code===200?(r.success("删除成功"),S(),j("refresh")):r.error(n.message||"删除失败")}catch(n){console.error("删除术语失败:",n),r.error("删除术语失败")}}).catch(()=>{})};return(s,n)=>{const L=_("el-switch"),K=_("el-input"),Y=_("el-form-item"),Q=_("el-col"),ae=_("el-option"),d=_("el-select"),J=_("el-row"),$=_("el-icon"),A=_("el-button"),ie=_("el-table-column"),we=_("el-table"),ke=_("el-pagination"),_e=_("el-form"),ge=_("el-dialog"),Ce=be("loading");return f(),x(le,null,[t(ge,{modelValue:z.value,"onUpdate:modelValue":n[7]||(n[7]=p=>z.value=p),title:"术语编辑器",width:"75%",fullscreen:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":"",class:"term_dialog"},{header:o(({close:p,titleId:ue,titleClass:de})=>[n[12]||(n[12]=u("span",{class:"title"},"术语编辑器",-1)),t(L,{modelValue:i.value.share_flag,"onUpdate:modelValue":n[0]||(n[0]=ce=>i.value.share_flag=ce),"active-value":"Y","inactive-value":"N"},null,8,["modelValue"]),u("div",De,"共享"+T(i.value.share_flag=="Y"?"开启":"关闭"),1)]),footer:o(()=>[u("div",Xe,[t(A,{type:"primary",color:"#055CF9",disabled:O.loading||C.value,loading:O.loading||C.value,onClick:re},{default:o(()=>[y(T(O.loading||C.value?"保存术语库中...":"保存"),1)]),_:1},8,["disabled","loading"]),t(A,{onClick:oe},{default:o(()=>n[16]||(n[16]=[y("关闭",-1)])),_:1,__:[16]})])]),default:o(()=>[t(_e,{ref_key:"termformRef",ref:w,model:i.value,rules:te,"label-position":"top","hide-required-asterisk":"true"},{default:o(()=>[t(J,{gutter:20},{default:o(()=>[t(Q,{span:24},{default:o(()=>[t(Y,{label:"术语表标题",required:"",prop:"title",width:"100%"},{default:o(()=>[t(K,{modelValue:i.value.title,"onUpdate:modelValue":n[1]||(n[1]=p=>i.value.title=p),type:"text",placeholder:"请输入术语表标题",maxlength:"50"},null,8,["modelValue"])]),_:1})]),_:1}),t(Q,{xs:24,sm:12},{default:o(()=>[t(Y,{label:"源语种",required:"",prop:"origin_lang",width:"100%"},{default:o(()=>[t(d,{modelValue:i.value.origin_lang,"onUpdate:modelValue":n[2]||(n[2]=p=>i.value.origin_lang=p),placeholder:"请选择",filterable:"","allow-create":"",clearable:""},{default:o(()=>[(f(!0),x(le,null,se(O.langs,p=>(f(),D(ae,{key:p,name:p,value:p},null,8,["name","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(Q,{xs:24,sm:12},{default:o(()=>[t(Y,{label:"对照语种",required:"",prop:"target_lang",width:"100%"},{default:o(()=>[t(d,{modelValue:i.value.target_lang,"onUpdate:modelValue":n[3]||(n[3]=p=>i.value.target_lang=p),placeholder:"请选择",filterable:"","allow-create":"",clearable:""},{default:o(()=>[(f(!0),x(le,null,se(O.langs,p=>(f(),D(ae,{key:p,name:p,value:p},null,8,["name","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),u("div",Ie,[u("div",Pe,[n[13]||(n[13]=u("h3",null,"术语列表",-1)),u("div",je,[t(K,{modelValue:b.value,"onUpdate:modelValue":n[4]||(n[4]=p=>b.value=p),placeholder:"搜索术语...",clearable:"",onInput:G,style:{width:"300px"}},{prefix:o(()=>[t($,null,{default:o(()=>[t(he($e))]),_:1})]),_:1},8,["modelValue"]),t(A,{type:"primary",loading:V.value,disabled:V.value,onClick:e,style:{"margin-left":"12px"}},{default:o(()=>[y(T(V.value?"处理中...":"新增术语"),1)]),_:1},8,["loading","disabled"])])]),u("div",Je,[xe((f(),D(we,{data:F.value,style:{width:"100%"},border:"",stripe:""},{default:o(()=>{var p,ue;return[t(ie,{prop:"original",label:((p=i.value.value)==null?void 0:p.origin_lang)||"源语种","min-width":"200","show-overflow-tooltip":""},null,8,["label"]),t(ie,{prop:"comparison_text",label:((ue=i.value.value)==null?void 0:ue.target_lang)||"对照语种","min-width":"200","show-overflow-tooltip":""},null,8,["label"]),t(ie,{label:"操作",width:"120",fixed:"right",align:"center"},{default:o(({row:de})=>[u("div",Ae,[t(A,{type:"primary",size:"small",onClick:ce=>l(de),text:""},{default:o(()=>n[14]||(n[14]=[y(" 编辑 ",-1)])),_:2,__:[14]},1032,["onClick"]),t(A,{type:"danger",size:"small",onClick:ce=>N(de),text:""},{default:o(()=>n[15]||(n[15]=[y(" 删除 ",-1)])),_:2,__:[15]},1032,["onClick"])])]),_:1})]}),_:1},8,["data"])),[[Ce,R.value]]),v.value>0?(f(),x("div",Me,[t(ke,{"current-page":m.value,"onUpdate:currentPage":n[5]||(n[5]=p=>m.value=p),"page-size":k.value,"onUpdate:pageSize":n[6]||(n[6]=p=>k.value=p),"page-sizes":[10,20,50],total:v.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:H,onCurrentChange:P},null,8,["current-page","page-size","total"])])):W("",!0)])])]),_:1},8,["model"])]),_:1},8,["modelValue"]),t(ge,{modelValue:h.value,"onUpdate:modelValue":n[11]||(n[11]=p=>h.value=p),title:c.value.id?"编辑术语":"新增术语",width:"600px","destroy-on-close":""},{footer:o(()=>[u("div",He,[t(A,{onClick:n[10]||(n[10]=p=>h.value=!1)},{default:o(()=>n[17]||(n[17]=[y("取消",-1)])),_:1,__:[17]}),t(A,{type:"primary",color:"#055CF9",loading:q.value,onClick:a},{default:o(()=>[y(T(c.value.id?"确认":"保存"),1)]),_:1},8,["loading"])])]),default:o(()=>[t(_e,{ref_key:"editTermFormRef",ref:U,model:c.value,rules:X,"label-width":"80px"},{default:o(()=>[t(Y,{label:"原文",prop:"original"},{default:o(()=>[t(K,{modelValue:c.value.original,"onUpdate:modelValue":n[8]||(n[8]=p=>c.value.original=p),type:"textarea",rows:3,placeholder:"请输入原文"},null,8,["modelValue"])]),_:1}),t(Y,{label:"对应术语",prop:"comparison_text"},{default:o(()=>[t(K,{modelValue:c.value.comparison_text,"onUpdate:modelValue":n[9]||(n[9]=p=>c.value.comparison_text=p),type:"textarea",rows:3,placeholder:"请输入对应术语"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])],64)}}},Qe=me(Ke,[["__scopeId","data-v-937f8fd6"]]),We={class:"flag_tips"},Ze={class:"btn_box"},Ge={__name:"PromptEdit",props:{loading:Boolean},emits:["confirm","close"],setup(M,{expose:I,emit:Z}){const w={title:[{required:!0,message:"请填写提示语标题",trigger:["blur","change"]}],content:[{required:!0,message:"请填写提示语内容",trigger:["blur","change"]}]},F=Z,R=g(null),b=g(!1),m=g({title:"",share_flag:"N",content:""}),k=()=>{b.value=!0},v=()=>{b.value=!1},h=()=>{R.value.validate(U=>{U&&(F("confirm",m.value),v())})};return I({open:k,close:v,updateForm:U=>{m.value=U},localForm:m}),(U,c)=>{const C=_("el-switch"),V=_("el-input"),X=_("el-form-item"),B=_("el-col"),G=_("el-row"),H=_("el-form"),P=_("el-button"),S=_("el-dialog");return f(),D(S,{modelValue:b.value,"onUpdate:modelValue":c[3]||(c[3]=E=>b.value=E),"destroy-on-close":"",title:"提示语编辑器",width:"90%","modal-class":"term_dialog"},{header:o(({close:E,titleId:te,titleClass:O})=>[c[4]||(c[4]=u("span",{class:"title"},"提示语编辑器",-1)),t(C,{modelValue:m.value.share_flag,"onUpdate:modelValue":c[0]||(c[0]=z=>m.value.share_flag=z),"active-value":"Y","inactive-value":"N"},null,8,["modelValue"]),u("div",We,"共享"+T(m.value.share_flag=="Y"?"开启":"关闭"),1)]),default:o(()=>[t(H,{ref_key:"promptformRef",ref:R,model:m.value,rules:w,"label-position":"top","hide-required-asterisk":"true"},{default:o(()=>[t(G,{gutter:20},{default:o(()=>[t(B,{span:24},{default:o(()=>[t(X,{label:"提示语标题",required:"",prop:"title",width:"100%"},{default:o(()=>[t(V,{modelValue:m.value.title,"onUpdate:modelValue":c[1]||(c[1]=E=>m.value.title=E),type:"text",placeholder:"请输入提示语标题",maxlength:"50"},null,8,["modelValue"])]),_:1})]),_:1}),t(B,{span:24},{default:o(()=>[t(X,{label:"提示语内容",required:"",prop:"content",width:"100%"},{default:o(()=>[t(V,{modelValue:m.value.content,"onUpdate:modelValue":c[2]||(c[2]=E=>m.value.content=E),type:"textarea",rows:5,resize:"none",placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),u("div",Ze,[t(P,{disabled:M.loading,onClick:v},{default:o(()=>c[5]||(c[5]=[y("取消",-1)])),_:1,__:[5]},8,["disabled"]),t(P,{type:"primary",color:"#055CF9",disabled:M.loading,loading:M.loading,onClick:h},{default:o(()=>c[6]||(c[6]=[y(" 保存 ",-1)])),_:1,__:[6]},8,["disabled","loading"])])]),_:1},8,["modelValue"])}}},el=me(Ge,[["__scopeId","data-v-7fe2b2f9"]]),ll={class:"page-center","element-loading-text":"loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.7)"},tl={class:"container"},ol={class:"tab_box"},al={key:0,class:"content_box"},sl={class:"flex_box flex-between phone_box"},nl={key:0,class:"btn_box"},rl={key:1,class:"btn_box"},il={key:0,class:"term_box"},ul={class:"term_li"},dl={class:"flex_box title_box flex-between"},cl=["title"],pl={class:"des"},ml={class:"term_count"},_l={class:"count_text"},gl={class:"btn_box flex_box flex-between"},fl={class:"left"},vl={class:"right"},yl={key:0,class:"table_box"},bl={key:1,class:"no_terms"},hl={key:1,class:"no_data"},xl={key:1,class:"prompt_box"},wl={class:"term_li"},kl={class:"flex_box title_box flex-between"},Cl=["title"],Vl={key:0,class:"btn_box flex_box flex-between"},$l={class:"left"},Tl={class:"right"},Ul={key:1,class:"btn_box"},Ll={class:"text_box"},Nl={class:"text"},Rl={key:1,class:"no_data"},Sl={__name:"index",setup(M){const I=Ue(),Z=g("/api/api/comparison/import"),w=g(!1),F=g([]),R=g([]),b=g(null),m=g(!1),k=g(null),v=g("terms"),h=g(!1),q=g(!1),U=g(!1);function c(l){v.value=l}const C=async()=>{w.value=!1;try{const l=await Ne();l.code===200&&(F.value=l.data.data)}catch(l){console.error("获取术语表数据失败:",l)}w.value=!1},V=async()=>{w.value=!1;try{const l=await Re();l.code===200&&(R.value=JSON.parse(JSON.stringify(l.data.data)),ve.prompt&&R.value.unshift({title:"默认提示语(无法删除)",content:ve.prompt,undelete:!0}))}catch(l){console.error("获取提示语数据失败:",l)}w.value=!1},X=["中文","英语","日语","俄语","阿拉伯语","西班牙语","韩语","德语"],B=l=>{const e=l;m.value=!0,e.id?Se(e.id,e).then(a=>{m.value=!1,a.code==200?(r({message:"保存成功",type:"success"}),k.value.close(),V()):r({message:a.message,type:"error"})}).catch(a=>{r({message:"接口异常",type:"error"})}):Ee(e).then(a=>{m.value=!1,a.code==200?(r({message:"保存成功",type:"success"}),k.value.close(),V()):r({message:a.message,type:"error"})}).catch(a=>{r({message:"接口异常",type:"error"})}),k.value.close(),m.value=!1},G=l=>{const e=l;console.log("保存术语表数据:",e),m.value=!0,e.id?(console.log("执行编辑操作，ID:",e.id),Fe(e.id,e).then(a=>{console.log("编辑成功响应:",a),console.log("响应数据类型:",typeof a),console.log("响应数据键:",Object.keys(a||{})),m.value=!1,a.code==200?(r({message:"保存成功",type:"success"}),C(),setTimeout(()=>{b.value&&b.value.close()},100)):r({message:a.message||"保存失败",type:"error"})}).catch(a=>{m.value=!1,console.error("编辑术语表失败:",a),r({message:"接口异常",type:"error"})})):(console.log("执行新建操作"),qe(e).then(a=>{console.log("新建成功响应:",a),console.log("响应数据类型:",typeof a),console.log("响应数据键:",Object.keys(a||{})),m.value=!1,a.code==200?(r({message:"保存成功",type:"success"}),C(),setTimeout(()=>{b.value&&b.value.close()},100)):r({message:a.message||"保存失败",type:"error"})}).catch(a=>{m.value=!1,console.error("新建术语表失败:",a),r({message:"接口异常",type:"error"})}))};function H(l){l?b.value.open(l):b.value.open({title:"",share_flag:"N",origin_lang:"",target_lang:""})}function P(l){k.value.open(),l?k.value.updateForm(JSON.parse(JSON.stringify(l))):k.value.updateForm({title:"",share_flag:"N",content:""})}function S(l){pe.confirm("确定要删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{w.value=!0,ze(l.id).then(e=>{e.code==200?(r({message:"删除成功",type:"success"}),C()):r({message:e.message,type:"error"})})})}function E(l){w.value=!0,Be(l.id,{share_flag:l.share_flag}).then(e=>{w.value=!1,e.code==200?r({message:"操作成功",type:"success"}):(r({message:e.message,type:"error"}),l.share_flag=="Y"?l.share_flag="N":l.share_flag="Y")}).catch(e=>{r({message:"接口异常",type:"error"}),l.share_flag=="Y"?l.share_flag="N":l.share_flag="Y"})}async function te(l){try{q.value=!0;const e=await fetch(`/api/api/comparison/export/${l.id}`,{headers:{Authorization:`Bearer ${I.token}`}});if(!e.ok)throw new Error("文件下载失败");const a=await e.blob(),N=window.URL.createObjectURL(a),s=document.createElement("a");s.href=N,s.download=`${l.title}.xlsx`,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(N),r({message:"导出成功",type:"success"})}catch(e){console.error("下载失败:",e),r.error("文件下载失败，请稍后重试")}finally{q.value=!1}}async function O(){try{U.value=!0;const l=await fetch("/api/api/comparison/export/all",{headers:{Authorization:`Bearer ${I.token}`}});if(!l.ok)throw new Error("术语表导出失败");const e=await l.blob(),a=window.URL.createObjectURL(e),N=document.createElement("a");N.href=a,N.download=`all_terms_${new Date().toISOString().slice(0,10)}.zip`,document.body.appendChild(N),N.click(),document.body.removeChild(N),window.URL.revokeObjectURL(a),r({message:"批量导出成功",type:"success"})}catch(l){console.error("导出失败:",l),r.error("术语表导出失败，请稍后重试")}finally{U.value=!1}}function z(l){window.open("/api/api/comparison/template")}function i(l){console.log("上传成功"),console.log(l),h.value=!1,l.code==200?(r({message:"导入成功",type:"success"}),C()):r({message:l.message,type:"error"})}function j(l){console.log("上传失败"),console.log(l),h.value=!1;let e="导入失败";try{if(l.message){const a=JSON.parse(l.message);a.message&&(e=decodeURIComponent(JSON.stringify(a.message).replace(/\\u/g,"%u")))}}catch(a){console.error("解析错误响应失败:",a),l.message&&typeof l.message=="string"&&(e=l.message)}r({message:e,type:"error"})}function ne(l){const a=l.name.substring(l.name.lastIndexOf(".")+1)==="xlsx";return a?(h.value=!0,console.log("isXlsx",a),a):(r({message:"请上传模板格式的文件",type:"error"}),!1)}function oe(l){w.value=!0,l.id&&Oe(l.id,{share_flag:l.share_flag}).then(e=>{w.value=!1,e.code==200?r({message:"操作成功",type:"success"}):(r({message:e.message,type:"error"}),l.share_flag=="Y"?l.share_flag="N":l.share_flag="Y")}).catch(e=>{r({message:"接口异常",type:"error"}),l.share_flag=="Y"?l.share_flag="N":l.share_flag="Y"})}function re(l){pe.confirm("确定要删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{w.value=!0,Ye(l.id).then(e=>{e.code==200?(r({message:"删除成功",type:"success"}),V()):r({message:e.message,type:"error"})})})}return Le(()=>{C(),V()}),(l,e)=>{const a=_("el-button"),N=_("el-button-group"),s=_("el-upload"),n=_("el-switch"),L=_("el-table-column"),K=_("el-table"),Y=_("el-col"),Q=_("el-row"),ae=be("loading");return xe((f(),x("div",ll,[u("div",tl,[u("div",ol,[e[4]||(e[4]=u("div",{class:"tab_li actived"},"我的",-1)),u("div",{class:"tab_li",onClick:e[0]||(e[0]=d=>l.$router.push("/corpus/square"))},"广场")]),(f(),x("div",al,[u("div",sl,[t(N,null,{default:o(()=>[t(a,{class:ye(v.value=="terms"?"btn_active":"my_button"),plain:v.value!="terms",type:v.value=="terms"?"primary":"",onClick:e[1]||(e[1]=d=>c("terms"))},{default:o(()=>e[5]||(e[5]=[y(" 我的术语表 ",-1)])),_:1,__:[5]},8,["class","plain","type"]),t(a,{class:ye(v.value=="prompt"?"btn_active":"my_button"),plain:v.value!="prompt",type:v.value=="prompt"?"primary":"",onClick:e[2]||(e[2]=d=>c("prompt"))},{default:o(()=>e[6]||(e[6]=[y(" 我的提示语 ",-1)])),_:1,__:[6]},8,["class","plain","type"])]),_:1}),v.value=="terms"?(f(),x("div",nl,[t(a,{type:"primary",color:"#055CF9",onClick:H},{default:o(()=>e[7]||(e[7]=[y("新建",-1)])),_:1,__:[7]}),t(a,{type:"primary",style:{margin:"0 8px"},onClick:e[3]||(e[3]=d=>z())},{default:o(()=>e[8]||(e[8]=[y(" 模板下载 ",-1)])),_:1,__:[8]}),t(s,{name:"file","before-upload":ne,action:Z.value,headers:{Authorization:"Bearer "+he(I).token},"show-file-list":!1,"on-success":(d,J,$)=>i(d),"on-error":(d,J,$)=>j(d),disabled:h.value,style:{display:"inline-block"}},{default:o(()=>[t(a,{type:"primary",loading:h.value,disabled:h.value},{default:o(()=>[y(T(h.value?"导入中...":"导入文件"),1)]),_:1},8,["loading","disabled"])]),_:1},8,["action","headers","on-success","on-error","disabled"]),t(a,{type:"",onClick:O,loading:U.value,disabled:U.value},{default:o(()=>[y(T(U.value?"导出中...":"全部导出"),1)]),_:1},8,["loading","disabled"])])):W("",!0),v.value=="prompt"?(f(),x("div",rl,[t(a,{type:"primary",color:"#055CF9",onClick:P},{default:o(()=>e[9]||(e[9]=[y("新建",-1)])),_:1,__:[9]})])):W("",!0)]),v.value=="terms"?(f(),x("div",il,[F.value.length>0?(f(),D(Q,{key:0,gutter:24},{default:o(()=>[(f(!0),x(le,null,se(F.value,(d,J)=>(f(),D(Y,{xs:24,sm:8,key:J},{default:o(()=>[u("div",ul,[u("div",dl,[u("div",{class:"t",title:d.title},T(d.title),9,cl),u("div",pl,T(d.origin_lang)+"-"+T(d.target_lang),1)]),u("div",ml,[u("span",_l,"共 "+T(d.term_count||0)+" 条术语",1)]),u("div",gl,[u("div",fl,[t(a,{type:"text",onClick:$=>H(d)},{default:o(()=>e[10]||(e[10]=[y("编辑",-1)])),_:2,__:[10]},1032,["onClick"]),t(a,{type:"text",style:{color:"red"},onClick:$=>S(d)},{default:o(()=>e[11]||(e[11]=[y("删除",-1)])),_:2,__:[11]},1032,["onClick"]),t(a,{type:"text",onClick:$=>te(d),loading:q.value,disabled:q.value},{default:o(()=>[y(T(q.value?"导出中...":"导出"),1)]),_:2},1032,["onClick","loading","disabled"])]),u("div",vl,[t(n,{modelValue:d.share_flag,"onUpdate:modelValue":$=>d.share_flag=$,"active-value":"Y","inactive-value":"N",onChange:$=>E(d)},null,8,["modelValue","onUpdate:modelValue","onChange"])])]),d.sample_terms&&d.sample_terms.length>0?(f(),x("div",yl,[t(K,{data:d.sample_terms,style:{width:"100%"},"max-height":"340",border:"","header-cell-class-name":"table_title","tooltip-effect":"light"},{default:o(()=>[t(L,{prop:"original",label:d.origin_lang,"show-overflow-tooltip":""},null,8,["label"]),t(L,{prop:"comparison_text",label:d.target_lang,"show-overflow-tooltip":""},null,8,["label"])]),_:2},1032,["data"])])):(f(),x("div",bl,e[12]||(e[12]=[u("div",{class:"text"},"暂无术语数据",-1)])))])]),_:2},1024))),128))]),_:1})):(f(),x("div",hl,e[13]||(e[13]=[u("img",{src:fe,alt:""},null,-1),u("div",{class:"text"},"暂无数据",-1)])))])):W("",!0),v.value=="prompt"?(f(),x("div",xl,[R.value.length>0?(f(),D(Q,{key:0,gutter:24},{default:o(()=>[(f(!0),x(le,null,se(R.value,(d,J)=>(f(),D(Y,{xs:24,sm:8,key:J},{default:o(()=>[u("div",wl,[u("div",kl,[u("div",{class:"t",title:d.title},T(d.title),9,Cl)]),d.undelete?(f(),x("div",Ul)):(f(),x("div",Vl,[u("div",$l,[t(a,{type:"text",onClick:$=>P(d)},{default:o(()=>e[14]||(e[14]=[y("编辑",-1)])),_:2,__:[14]},1032,["onClick"]),t(a,{type:"text",style:{color:"red"},onClick:$=>re(d)},{default:o(()=>e[15]||(e[15]=[y("删除",-1)])),_:2,__:[15]},1032,["onClick"])]),u("div",Tl,[t(n,{modelValue:d.share_flag,"onUpdate:modelValue":$=>d.share_flag=$,"active-value":"Y","inactive-value":"N",onChange:$=>oe(d)},null,8,["modelValue","onUpdate:modelValue","onChange"])])])),u("div",Ll,[u("div",Nl,T(d.content),1)])])]),_:2},1024))),128))]),_:1})):(f(),x("div",Rl,e[16]||(e[16]=[u("img",{src:fe,alt:""},null,-1),u("div",{class:"text"},"暂无数据",-1)])))])):W("",!0)])),W("",!0)]),t(Qe,{ref_key:"termEditRef",ref:b,langs:X,loading:m.value,onConfirm:G,onRefresh:C},null,8,["loading"]),t(el,{ref_key:"promptEditRef",ref:k,loading:m.value,onConfirm:B},null,8,["loading"])])),[[ae,w.value]])}}},zl=me(Sl,[["__scopeId","data-v-a60eff7d"]]);export{zl as default};
