import{_ as E}from"./nodata-CSuNOf8O.js";/* empty css                                                               */import{a4 as x,_ as Y,r as f,f as Z,g as p,h as ee,m as te,o as l,c as _,a,i as o,w as c,l as h,k as m,A as k,z as C,F as j,n as q,t as u,a5 as I,E as d}from"./index-BpvpvpAE.js";function ae(r){return x({url:"/api/comparison/share",method:"get",params:r})}function se(r){return x({url:"/api/prompt/share",method:"get",params:r})}function oe(r){return x({url:`/api/comparison/copy/${r}`,method:"POST"})}function le(r){return x({url:`/api/prompt/copy/${r}`,method:"POST"})}function ne(r){return x({url:`/api/comparison/fav/${r}`,method:"POST"})}function re(r){return x({url:`/api/prompt/fav/${r}`,method:"POST"})}const ie={class:"page-center","element-loading-text":"loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.7)"},ce={class:"container"},de={class:"tab_box"},ue={class:"content_box"},_e={class:"flex_box flex-between"},pe={key:0,class:"term_box"},ve={class:"term_li"},fe={class:"flex_box title_box flex-between"},me=["title"],ge={class:"des"},be={class:"btn_box flex_box flex-between"},he={class:"left"},xe={class:"right"},ye=["onClick"],ke={class:"des_box flex_box flex-between"},Ce={class:"t_left"},we={class:"t_right"},$e={key:0,class:"table_box"},Te={key:1,class:"no_data"},Ve={key:2,class:"page_box"},ze={key:1,class:"prompt_box"},Pe={class:"term_li"},Se={class:"flex_box title_box flex-between"},De=["title"],Be={class:"btn_box flex_box flex-between"},Fe={class:"left"},Le={class:"right"},Ne=["onClick"],Oe={class:"des_box flex_box flex-between"},Ee={class:"t_left"},je={class:"t_right"},qe={class:"text_box"},Ie={class:"text"},Me={key:1,class:"no_data"},Ue={key:2,class:"page_box"},Ae={__name:"square",setup(r){const n=f(!1),w=f([]),S=f(0),$=f([]),D=f(0),i=f("terms"),v=f({order:"latest",page:1,limit:9}),g=f({porder:"latest",page:1,limit:9}),T=async()=>{n.value=!0;try{const s=await ae(v.value);s.code===200&&(w.value=s.data.data)}catch(s){console.error("获取术语表数据时出错:",s)}n.value=!1};function M(){v.value.page=1,T()}function U(){g.value.page=1,V()}function A(s){v.value.page=s,T()}const V=async()=>{n.value=!0;try{const s=await se(g.value);s.code===200&&($.value=s.data.data)}catch(s){console.error("获取提示语数据时出错:",s)}n.value=!1};function G(s){v.value.page=s,V()}function H(s){n.value=!0,oe(s.id).then(e=>{n.value=!1,e.code==200?(d({message:"添加成功，请到我的术语表中查看",type:"success"}),s.added_count++):d({message:e.message,type:"error"})}).catch(e=>{d({message:"接口异常",type:"error"})})}function J(s){n.value=!0,le(s.id).then(e=>{n.value=!1,e.code==200?(d({message:"添加成功，请到我的提示语中查看",type:"success"}),s.added_count++):d({message:e.message,type:"error"})}).catch(e=>{d({message:"接口异常",type:"error"})})}function K(s){n.value=!0,ne(s.id).then(e=>{n.value=!1,e.code==200?(d({message:"操作成功",type:"success"}),s.faved==1?s.faved=0:s.faved=1):d({message:e.message,type:"error"})}).catch(e=>{d({message:"接口异常",type:"error"})})}function Q(s){n.value=!0,re(s.id).then(e=>{n.value=!1,e.code==200?(d({message:"操作成功",type:"success"}),s.faved==1?s.faved=0:s.faved=1):d({message:e.message,type:"error"})}).catch(e=>{d({message:"接口异常",type:"error"})})}return Z(()=>{T(),V()}),(s,e)=>{const y=p("el-button"),R=p("el-button-group"),b=p("el-option"),B=p("el-select"),F=p("el-table-column"),W=p("el-table"),L=p("el-col"),N=p("el-row"),O=p("el-pagination"),X=ee("loading");return te((l(),_("div",ie,[a("div",ce,[a("div",de,[a("div",{class:"tab_li",onClick:e[0]||(e[0]=t=>s.$router.push("/corpus/index"))},"我的"),e[5]||(e[5]=a("div",{class:"tab_li actived"},"广场",-1))]),a("div",ue,[a("div",_e,[o(R,null,{default:c(()=>[o(y,{class:k(i.value=="terms"?"btn_active":"my_button"),plain:i.value!="terms",type:i.value=="terms"?"primary":"",onClick:e[1]||(e[1]=t=>i.value="terms")},{default:c(()=>e[6]||(e[6]=[C(" 术语表 ",-1)])),_:1,__:[6]},8,["class","plain","type"]),o(y,{class:k(i.value=="prompt"?"btn_active":"my_button"),plain:i.value!="prompt",type:i.value=="prompt"?"primary":"",onClick:e[2]||(e[2]=t=>i.value="prompt")},{default:c(()=>e[7]||(e[7]=[C(" 提示语 ",-1)])),_:1,__:[7]},8,["class","plain","type"])]),_:1}),i.value=="terms"?(l(),h(B,{key:0,modelValue:v.value.order,"onUpdate:modelValue":e[3]||(e[3]=t=>v.value.order=t),style:{width:"100px"},onChange:M},{default:c(()=>[o(b,{value:"latest",label:"最新发布"}),o(b,{value:"fav",label:"收藏量"}),o(b,{value:"added",label:"添加量"})]),_:1},8,["modelValue"])):m("",!0),i.value=="prompt"?(l(),h(B,{key:1,modelValue:g.value.porder,"onUpdate:modelValue":e[4]||(e[4]=t=>g.value.porder=t),style:{width:"100px"},onChange:U},{default:c(()=>[o(b,{value:"latest",label:"最新发布"}),o(b,{value:"fav",label:"收藏量"}),o(b,{value:"added",label:"添加量"})]),_:1},8,["modelValue"])):m("",!0)]),i.value=="terms"?(l(),_("div",pe,[w.value.length>0?(l(),h(N,{key:0,gutter:24},{default:c(()=>[(l(!0),_(j,null,q(w.value,(t,z)=>(l(),h(L,{xs:24,sm:8,key:z},{default:c(()=>[a("div",ve,[a("div",fe,[a("div",{class:"t",title:t.title},u(t.title),9,me),a("div",ge,u(t.origin_lang)+"-"+u(t.target_lang),1)]),a("div",be,[a("div",he,[o(y,{type:"text",onClick:P=>H(t)},{default:c(()=>e[8]||(e[8]=[C("加入我的语料库",-1)])),_:2,__:[8]},1032,["onClick"])]),a("div",xe,[a("div",{class:k(t.faved==1?"icon_actived icon_star":"icon_star"),onClick:P=>K(t)},[o(I,{"icon-class":t.faved==1?"favd":"fav"},null,8,["icon-class"])],10,ye)])]),a("div",ke,[a("div",Ce,u(t.email)+" 被加入"+u(t.added_count)+"次",1),a("div",we,u(t.created_at),1)]),t.content.length>0?(l(),_("div",$e,[o(W,{size:"small",data:t.content,style:{width:"100%"},"max-height":"160",border:"","header-cell-class-name":"table_title","tooltip-effect":"light"},{default:c(()=>[o(F,{prop:"origin",label:t.origin_lang,"show-overflow-tooltip":""},null,8,["label"]),o(F,{prop:"target",label:t.target_lang,"show-overflow-tooltip":""},null,8,["label"])]),_:2},1032,["data"])])):m("",!0)])]),_:2},1024))),128))]),_:1})):(l(),_("div",Te,e[9]||(e[9]=[a("img",{src:E,alt:""},null,-1),a("div",{class:"text"},"暂无数据",-1)]))),S.value>0?(l(),_("div",Ve,[o(O,{"current-page":v.value.page,"page-size":v.value.limit,layout:"prev, pager, next, jumper",total:S.value,"pager-count":5,onCurrentChange:A},null,8,["current-page","page-size","total"])])):m("",!0)])):m("",!0),i.value=="prompt"?(l(),_("div",ze,[$.value.length>0?(l(),h(N,{key:0,gutter:24},{default:c(()=>[(l(!0),_(j,null,q($.value,(t,z)=>(l(),h(L,{xs:24,sm:8,key:z},{default:c(()=>[a("div",Pe,[a("div",Se,[a("div",{class:"t",title:t.title},u(t.title),9,De)]),a("div",Be,[a("div",Fe,[o(y,{type:"text",onClick:P=>J(t)},{default:c(()=>e[10]||(e[10]=[C("加入我的提示语",-1)])),_:2,__:[10]},1032,["onClick"])]),a("div",Le,[a("div",{class:k(t.faved==1?"icon_actived icon_star":"icon_star"),onClick:P=>Q(t)},[o(I,{"icon-class":t.faved==1?"favd":"fav"},null,8,["icon-class"])],10,Ne)])]),a("div",Oe,[a("div",Ee,u(t.email)+" 被加入"+u(t.added_count)+"次",1),a("div",je,u(t.created_at),1)]),a("div",qe,[a("div",Ie,u(t.content),1)])])]),_:2},1024))),128))]),_:1})):(l(),_("div",Me,e[11]||(e[11]=[a("img",{src:E,alt:""},null,-1),a("div",{class:"text"},"暂无数据",-1)]))),D.value>0?(l(),_("div",Ue,[o(O,{"current-page":g.value.page,"page-size":g.value.limit,layout:"prev, pager, next, jumper",total:D.value,"pager-count":5,onCurrentChange:G},null,8,["current-page","page-size","total"])])):m("",!0)])):m("",!0)]),m("",!0)])])),[[X,n.value]])}}},Ke=Y(Ae,[["__scopeId","data-v-411478f1"]]);export{Ke as default};
