import{_ as k,u as C,K as N,r as i,Y as U,i as s,o as f,c as B,a as n,av as R,k as o,w as t,aw as q,n as E,C as F,t as K,ax as L,E as g}from"./index-BtNmlCxB.js";const S={class:"auth-page"},T={class:"auth-container"},z={__name:"index",setup(D){const V=C(),v=N(),c=i("login"),m=i(null),r=i(!1),a=U({email:"",password:"",tenant_code:""}),b={email:[{required:!0,message:"请填写邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"}],tenant_code:[{required:!0,message:"请填写租户代码",trigger:"blur"}]},p=async()=>{m.value.validate(async _=>{if(_){r.value=!0;try{const e=await L(a);e.code===200?(V.updateToken(e.data.token),v.push({name:"home"})):g.error(e.message)}catch(e){console.error("登录失败:",e)}finally{r.value=!1}}else g.error("请正确填写表单")})};return(_,e)=>{const d=s("el-input"),u=s("el-form-item"),h=s("el-button"),w=s("el-form"),y=s("el-tab-pane"),x=s("el-tabs");return f(),B("div",S,[n("div",T,[e[4]||(e[4]=n("div",{class:"auth-header"},[n("img",{src:R,alt:"Logo",class:"auth-logo"}),n("h1",{class:"auth-title"},"欢迎回来"),n("p",{class:"auth-subtitle"},"请登录以继续")],-1)),o(x,{modelValue:c.value,"onUpdate:modelValue":e[3]||(e[3]=l=>c.value=l),stretch:"",class:"auth-tabs"},{default:t(()=>[o(y,{label:"登录",name:"login"},{default:t(()=>[o(w,{model:a,ref_key:"loginFormRef",ref:m,rules:b,onKeyup:q(p,["enter"])},{default:t(()=>[o(u,{prop:"email"},{default:t(()=>[o(d,{modelValue:a.email,"onUpdate:modelValue":e[0]||(e[0]=l=>a.email=l),placeholder:"邮箱","prefix-icon":"el-icon-message"},null,8,["modelValue"])]),_:1}),o(u,{prop:"password"},{default:t(()=>[o(d,{modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=l=>a.password=l),type:"password","show-password":"",placeholder:"密码","prefix-icon":"el-icon-lock"},null,8,["modelValue"])]),_:1}),(f(),E(u,{key:0,prop:"tenant_code"},{default:t(()=>[o(d,{modelValue:a.tenant_code,"onUpdate:modelValue":e[2]||(e[2]=l=>a.tenant_code=l),placeholder:"租户代码","prefix-icon":"el-icon-office-building"},null,8,["modelValue"])]),_:1})),o(u,{class:"center"},{default:t(()=>[o(h,{type:"primary",size:"large",class:"auth-btn",onClick:p,loading:r.value},{default:t(()=>[F(K(r.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue"])])])}}},Y=k(z,[["__scopeId","data-v-3e069f3e"]]);export{Y as default};
