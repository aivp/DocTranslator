import{_ as y,u as k,z as U,r as i,O as R,i as s,o as q,c as B,a as n,al as C,k as o,w as t,am as E,x as F,t as L,an as N,E as f}from"./index-BSHXqKsI.js";const S={class:"auth-page"},T={class:"auth-container"},z={__name:"index",setup(K){const g=k(),b=U(),c=i("login"),m=i(null),r=i(!1),a=R({email:"",password:"",tenant_code:""}),v={email:[{required:!0,message:"请填写邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"}],tenant_code:[{required:!0,message:"请填写租户代码",trigger:"blur"}]},p=async()=>{m.value.validate(async _=>{if(_){r.value=!0;try{const e=await N(a);e.code===200?(g.updateToken(e.data.token),b.push({name:"home"})):f.error(e.message)}catch(e){console.error("登录失败:",e)}finally{r.value=!1}}else f.error("请正确填写表单")})};return(_,e)=>{const d=s("el-input"),u=s("el-form-item"),V=s("el-button"),h=s("el-form"),w=s("el-tab-pane"),x=s("el-tabs");return q(),B("div",S,[n("div",T,[e[4]||(e[4]=n("div",{class:"auth-header"},[n("img",{src:C,alt:"Logo",class:"auth-logo"}),n("h1",{class:"auth-title"},"欢迎回来"),n("p",{class:"auth-subtitle"},"请登录以继续")],-1)),o(x,{modelValue:c.value,"onUpdate:modelValue":e[3]||(e[3]=l=>c.value=l),stretch:"",class:"auth-tabs"},{default:t(()=>[o(w,{label:"登录",name:"login"},{default:t(()=>[o(h,{model:a,ref_key:"loginFormRef",ref:m,rules:v,onKeyup:E(p,["enter"])},{default:t(()=>[o(u,{prop:"email"},{default:t(()=>[o(d,{modelValue:a.email,"onUpdate:modelValue":e[0]||(e[0]=l=>a.email=l),placeholder:"邮箱","prefix-icon":"el-icon-message"},null,8,["modelValue"])]),_:1}),o(u,{prop:"password"},{default:t(()=>[o(d,{modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=l=>a.password=l),type:"password","show-password":"",placeholder:"密码","prefix-icon":"el-icon-lock"},null,8,["modelValue"])]),_:1}),o(u,{prop:"tenant_code"},{default:t(()=>[o(d,{modelValue:a.tenant_code,"onUpdate:modelValue":e[2]||(e[2]=l=>a.tenant_code=l),placeholder:"租户代码","prefix-icon":"el-icon-office-building"},null,8,["modelValue"])]),_:1}),o(u,{class:"center"},{default:t(()=>[o(V,{type:"primary",size:"large",class:"auth-btn",onClick:p,loading:r.value},{default:t(()=>[F(L(r.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue"])])])}}},I=y(z,[["__scopeId","data-v-2eb606fb"]]);export{I as default};
