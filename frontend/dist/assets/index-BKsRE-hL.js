import{_ as pe}from"./nodata-CSuNOf8O.js";/* empty css                                                               */import{_ as ie,r as _,N as we,g as m,h as ge,o as g,c as h,i as o,w as s,a as r,t as L,v,F as Z,n as le,l as Y,j as fe,O as ke,m as ve,k as M,M as ee,E as n,p as re,P as Ce,u as Ve,f as $e,H as Te,Q as Ue,R as me,S as Le,T as Re,U as Ne,V as Se,q as _e,W as Ee,X as Fe,Y as qe,Z as ze}from"./index-CSpKw3Ki.js";const Be={class:"flag_tips"},Oe={class:"terms_section"},Ye={class:"terms_header"},De={class:"search_box"},Ie={class:"terms_table"},Pe={class:"action-buttons"},je={key:0,class:"pagination_box"},Je={class:"btn_box"},Me={class:"btn_box"},Ae={__name:"TermEdit",props:{langs:Array,loading:Boolean},emits:["update:modelValue","confirm","refresh"],setup(P,{expose:D,emit:A}){const x=_(null),S=_([]),R=_(!1),y=_(""),c=_(1),C=_(10),f=_(0),w=_(!1),E=_(!1),V=_(null),u=_({id:"",original:"",comparison_text:""}),F={original:[{required:!0,message:"请输入原文",trigger:"blur"}],comparison_text:[{required:!0,message:"请输入对应术语",trigger:"blur"}]};let N=null;const j=()=>{N&&clearTimeout(N),N=setTimeout(()=>{c.value=1,U()},500)},J=e=>{C.value=e,c.value=1,U()},X=e=>{c.value=e,U()},U=async()=>{if(console.log("fetchTermsList 被调用，ID:",p.value.id),!p.value.id){console.log("没有ID，退出获取术语列表");return}R.value=!0;try{const e={page:c.value,limit:C.value};y.value.trim()&&(e.search=y.value.trim());const a=`/api/comparison/${p.value.id}/terms?${new URLSearchParams(e)}`;console.log("请求URL:",a);const b=await ee({url:`/api/comparison/${p.value.id}/terms`,method:"get",params:e});console.log("响应状态:",b.code),b.code===200?(S.value=b.data.data,f.value=b.data.total,console.log("术语列表设置成功，数量:",S.value.length,"总数:",f.value)):n.error(b.message||"获取术语列表失败")}catch(e){console.error("获取术语列表失败:",e),n.error("获取术语列表失败")}finally{R.value=!1}},z=(e,a,b)=>{x.value.clearValidate(["origin_lang","target_lang"]),p.value.origin_lang!=""&&p.value.target_lang!=""&&p.value.origin_lang==p.value.target_lang?b(new Error("源语种与对照语种不能一样")):b()},H={title:[{required:!0,message:"请填写术语标题",trigger:["blur","change"]}],origin_lang:[{required:!0,message:"请选择源语种",trigger:["blur","change"]},{validator:z,trigger:["blur","change"]}],target_lang:[{required:!0,message:"请选择对照语种",trigger:["blur","change"]},{validator:z,trigger:["blur","change"]}]},$=P,B=_(!1),p=_({id:"",title:"",origin_lang:"",target_lang:"",share_flag:"N"});we(B,e=>{console.log("visible 变化:",e,"localForm.id:",p.value.id),e&&p.value.id?(console.log("准备获取术语列表，ID:",p.value.id),Ce(()=>{U()})):console.log("不满足获取术语列表的条件")});const q=A,te=e=>{console.log("TermEdit open 被调用，接收到的数据:",e),p.value={...e},console.log("localForm 设置后的值:",p.value),B.value=!0},G=()=>{B.value=!1,S.value=[],y.value="",c.value=1,f.value=0,q("refresh")},oe=async()=>{try{await x.value.validate(),q("confirm",p.value),G()}catch(e){console.error("表单验证失败:",e)}};D({open:te});const ae=e=>{u.value={id:e.id,original:e.original,comparison_text:e.comparison_text},w.value=!0},se=()=>{u.value={id:"",original:"",comparison_text:""},w.value=!0},t=async()=>{try{if(await V.value.validate(),E.value=!0,u.value.id){const e=await ee({url:`/api/comparison/term/${u.value.id}`,method:"put",data:{original:u.value.original,comparison_text:u.value.comparison_text}});e.code===200?(n.success("编辑成功"),w.value=!1,U(),q("refresh")):n.error(e.message||"编辑失败")}else{const e=await ee({url:`/api/comparison/${p.value.id}/terms`,method:"post",data:{original:u.value.original,comparison_text:u.value.comparison_text}});e.code===200?(n.success("新增成功"),w.value=!1,U(),q("refresh")):n.error(e.message||"新增失败")}}catch(e){console.error("操作术语失败:",e),n.error("操作术语失败")}finally{E.value=!1}},l=e=>{re.confirm(`确定要删除这条术语记录吗？
原文：${e.original}
对应术语：${e.comparison_text}`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!1}).then(async()=>{try{const a=await ee({url:`/api/comparison/term/${e.id}`,method:"delete"});a.code===200?(n.success("删除成功"),U(),q("refresh")):n.error(a.message||"删除失败")}catch(a){console.error("删除术语失败:",a),n.error("删除术语失败")}}).catch(()=>{})};return(e,a)=>{const b=m("el-switch"),I=m("el-input"),O=m("el-form-item"),K=m("el-col"),Q=m("el-option"),W=m("el-select"),ne=m("el-row"),i=m("el-icon"),T=m("el-button"),k=m("el-table-column"),ye=m("el-table"),be=m("el-pagination"),ue=m("el-form"),de=m("el-dialog"),he=ge("loading");return g(),h(Z,null,[o(de,{modelValue:B.value,"onUpdate:modelValue":a[7]||(a[7]=d=>B.value=d),title:"术语编辑器",width:"75%",fullscreen:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":"",class:"term_dialog"},{header:s(({close:d,titleId:ce,titleClass:Rl})=>[a[12]||(a[12]=r("span",{class:"title"},"术语编辑器",-1)),o(b,{modelValue:p.value.share_flag,"onUpdate:modelValue":a[0]||(a[0]=xe=>p.value.share_flag=xe),"active-value":"Y","inactive-value":"N"},null,8,["modelValue"]),r("div",Be,"共享"+L(p.value.share_flag=="Y"?"开启":"关闭"),1)]),footer:s(()=>[r("div",Je,[o(T,{type:"primary",color:"#055CF9",disabled:$.loading,loading:$.loading,onClick:oe},{default:s(()=>a[17]||(a[17]=[v(" 保存 ",-1)])),_:1,__:[17]},8,["disabled","loading"]),o(T,{onClick:G},{default:s(()=>a[18]||(a[18]=[v("关闭",-1)])),_:1,__:[18]})])]),default:s(()=>[o(ue,{ref_key:"termformRef",ref:x,model:p.value,rules:H,"label-position":"top","hide-required-asterisk":"true"},{default:s(()=>[o(ne,{gutter:20},{default:s(()=>[o(K,{span:24},{default:s(()=>[o(O,{label:"术语表标题",required:"",prop:"title",width:"100%"},{default:s(()=>[o(I,{modelValue:p.value.title,"onUpdate:modelValue":a[1]||(a[1]=d=>p.value.title=d),type:"text",placeholder:"请输入术语表标题",maxlength:"50"},null,8,["modelValue"])]),_:1})]),_:1}),o(K,{xs:24,sm:12},{default:s(()=>[o(O,{label:"源语种",required:"",prop:"origin_lang",width:"100%"},{default:s(()=>[o(W,{modelValue:p.value.origin_lang,"onUpdate:modelValue":a[2]||(a[2]=d=>p.value.origin_lang=d),placeholder:"请选择",filterable:"","allow-create":"",clearable:""},{default:s(()=>[(g(!0),h(Z,null,le($.langs,d=>(g(),Y(Q,{key:d,name:d,value:d},null,8,["name","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(K,{xs:24,sm:12},{default:s(()=>[o(O,{label:"对照语种",required:"",prop:"target_lang",width:"100%"},{default:s(()=>[o(W,{modelValue:p.value.target_lang,"onUpdate:modelValue":a[3]||(a[3]=d=>p.value.target_lang=d),placeholder:"请选择",filterable:"","allow-create":"",clearable:""},{default:s(()=>[(g(!0),h(Z,null,le($.langs,d=>(g(),Y(Q,{key:d,name:d,value:d},null,8,["name","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),r("div",Oe,[r("div",Ye,[a[14]||(a[14]=r("h3",null,"术语列表",-1)),r("div",De,[o(I,{modelValue:y.value,"onUpdate:modelValue":a[4]||(a[4]=d=>y.value=d),placeholder:"搜索术语...",clearable:"",onInput:j,style:{width:"300px"}},{prefix:s(()=>[o(i,null,{default:s(()=>[o(fe(ke))]),_:1})]),_:1},8,["modelValue"]),o(T,{type:"primary",onClick:se,style:{"margin-left":"12px"}},{default:s(()=>a[13]||(a[13]=[v(" 新增术语 ",-1)])),_:1,__:[13]})])]),r("div",Ie,[ve((g(),Y(ye,{data:S.value,style:{width:"100%"},border:"",stripe:""},{default:s(()=>[o(k,{prop:"original",label:p.value.origin_lang||"源语种","min-width":"200","show-overflow-tooltip":""},null,8,["label"]),o(k,{prop:"comparison_text",label:p.value.target_lang||"对照语种","min-width":"200","show-overflow-tooltip":""},null,8,["label"]),o(k,{label:"操作",width:"120",fixed:"right",align:"center"},{default:s(({row:d})=>[r("div",Pe,[o(T,{type:"primary",size:"small",onClick:ce=>ae(d),text:""},{default:s(()=>a[15]||(a[15]=[v(" 编辑 ",-1)])),_:2,__:[15]},1032,["onClick"]),o(T,{type:"danger",size:"small",onClick:ce=>l(d),text:""},{default:s(()=>a[16]||(a[16]=[v(" 删除 ",-1)])),_:2,__:[16]},1032,["onClick"])])]),_:1})]),_:1},8,["data"])),[[he,R.value]]),f.value>0?(g(),h("div",je,[o(be,{"current-page":c.value,"onUpdate:currentPage":a[5]||(a[5]=d=>c.value=d),"page-size":C.value,"onUpdate:pageSize":a[6]||(a[6]=d=>C.value=d),"page-sizes":[10,20,50],total:f.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:J,onCurrentChange:X},null,8,["current-page","page-size","total"])])):M("",!0)])])]),_:1},8,["model"])]),_:1},8,["modelValue"]),o(de,{modelValue:w.value,"onUpdate:modelValue":a[11]||(a[11]=d=>w.value=d),title:u.value.id?"编辑术语":"新增术语",width:"600px","destroy-on-close":""},{footer:s(()=>[r("div",Me,[o(T,{onClick:a[10]||(a[10]=d=>w.value=!1)},{default:s(()=>a[19]||(a[19]=[v("取消",-1)])),_:1,__:[19]}),o(T,{type:"primary",color:"#055CF9",loading:E.value,onClick:t},{default:s(()=>[v(L(u.value.id?"确认":"保存"),1)]),_:1},8,["loading"])])]),default:s(()=>[o(ue,{ref_key:"editTermFormRef",ref:V,model:u.value,rules:F,"label-width":"80px"},{default:s(()=>[o(O,{label:"原文",prop:"original"},{default:s(()=>[o(I,{modelValue:u.value.original,"onUpdate:modelValue":a[8]||(a[8]=d=>u.value.original=d),type:"textarea",rows:3,placeholder:"请输入原文"},null,8,["modelValue"])]),_:1}),o(O,{label:"对应术语",prop:"comparison_text"},{default:s(()=>[o(I,{modelValue:u.value.comparison_text,"onUpdate:modelValue":a[9]||(a[9]=d=>u.value.comparison_text=d),type:"textarea",rows:3,placeholder:"请输入对应术语"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])],64)}}},Xe=ie(Ae,[["__scopeId","data-v-f9aac38c"]]),He={class:"flag_tips"},Ke={class:"btn_box"},Qe={__name:"PromptEdit",props:{loading:Boolean},emits:["confirm","close"],setup(P,{expose:D,emit:A}){const x={title:[{required:!0,message:"请填写提示语标题",trigger:["blur","change"]}],content:[{required:!0,message:"请填写提示语内容",trigger:["blur","change"]}]},S=A,R=_(null),y=_(!1),c=_({title:"",share_flag:"N",content:""}),C=()=>{y.value=!0},f=()=>{y.value=!1},w=()=>{R.value.validate(V=>{V&&(S("confirm",c.value),f())})};return D({open:C,close:f,updateForm:V=>{c.value=V},localForm:c}),(V,u)=>{const F=m("el-switch"),N=m("el-input"),j=m("el-form-item"),J=m("el-col"),X=m("el-row"),U=m("el-form"),z=m("el-button"),H=m("el-dialog");return g(),Y(H,{modelValue:y.value,"onUpdate:modelValue":u[3]||(u[3]=$=>y.value=$),"destroy-on-close":"",title:"提示语编辑器",width:"90%","modal-class":"term_dialog"},{header:s(({close:$,titleId:B,titleClass:p})=>[u[4]||(u[4]=r("span",{class:"title"},"提示语编辑器",-1)),o(F,{modelValue:c.value.share_flag,"onUpdate:modelValue":u[0]||(u[0]=q=>c.value.share_flag=q),"active-value":"Y","inactive-value":"N"},null,8,["modelValue"]),r("div",He,"共享"+L(c.value.share_flag=="Y"?"开启":"关闭"),1)]),default:s(()=>[o(U,{ref_key:"promptformRef",ref:R,model:c.value,rules:x,"label-position":"top","hide-required-asterisk":"true"},{default:s(()=>[o(X,{gutter:20},{default:s(()=>[o(J,{span:24},{default:s(()=>[o(j,{label:"提示语标题",required:"",prop:"title",width:"100%"},{default:s(()=>[o(N,{modelValue:c.value.title,"onUpdate:modelValue":u[1]||(u[1]=$=>c.value.title=$),type:"text",placeholder:"请输入提示语标题",maxlength:"50"},null,8,["modelValue"])]),_:1})]),_:1}),o(J,{span:24},{default:s(()=>[o(j,{label:"提示语内容",required:"",prop:"content",width:"100%"},{default:s(()=>[o(N,{modelValue:c.value.content,"onUpdate:modelValue":u[2]||(u[2]=$=>c.value.content=$),type:"textarea",rows:5,resize:"none",placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),r("div",Ke,[o(z,{disabled:P.loading,onClick:f},{default:s(()=>u[5]||(u[5]=[v("取消",-1)])),_:1,__:[5]},8,["disabled"]),o(z,{type:"primary",color:"#055CF9",disabled:P.loading,loading:P.loading,onClick:w},{default:s(()=>u[6]||(u[6]=[v(" 保存 ",-1)])),_:1,__:[6]},8,["disabled","loading"])])]),_:1},8,["modelValue"])}}},We=ie(Qe,[["__scopeId","data-v-7fe2b2f9"]]),Ze={class:"page-center","element-loading-text":"loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.7)"},Ge={class:"container"},el={class:"tab_box"},ll={key:0,class:"content_box"},tl={class:"flex_box flex-between phone_box"},ol={key:0,class:"btn_box"},al={key:1,class:"btn_box"},sl={key:0,class:"term_box"},nl={class:"term_li"},rl={class:"flex_box title_box flex-between"},il=["title"],ul={class:"des"},dl={class:"term_count"},cl={class:"count_text"},pl={class:"btn_box flex_box flex-between"},ml={class:"left"},_l={class:"right"},gl={key:0,class:"table_box"},fl={key:1,class:"no_terms"},vl={key:1,class:"no_data"},yl={key:1,class:"prompt_box"},bl={class:"term_li"},hl={class:"flex_box title_box flex-between"},xl=["title"],wl={key:0,class:"btn_box flex_box flex-between"},kl={class:"left"},Cl={class:"right"},Vl={key:1,class:"btn_box"},$l={class:"text_box"},Tl={class:"text"},Ul={key:1,class:"no_data"},Ll={__name:"index",setup(P){const D=Ve(),A=_("/api/api/comparison/import"),x=_(!1),S=_([]),R=_([]),y=_(null),c=_(!1),C=_(null),f=_("terms"),w=_(!1),E=_(!1),V=_(!1);function u(t){f.value=t}const F=async()=>{x.value=!1;try{const t=await Te();t.code===200&&(S.value=t.data.data)}catch(t){console.error("获取术语表数据失败:",t)}x.value=!1},N=async()=>{x.value=!1;try{const t=await Ue();t.code===200&&(R.value=JSON.parse(JSON.stringify(t.data.data)),me.prompt&&R.value.unshift({title:"默认提示语(无法删除)",content:me.prompt,undelete:!0}))}catch(t){console.error("获取提示语数据失败:",t)}x.value=!1},j=["中文","英语","日语","俄语","阿拉伯语","西班牙语","韩语","德语"],J=t=>{const l=t;c.value=!0,l.id?Le(l.id,l).then(e=>{c.value=!1,e.code==200?(n({message:"保存成功",type:"success"}),C.value.close(),N()):n({message:e.message,type:"error"})}).catch(e=>{n({message:"接口异常",type:"error"})}):Re(l).then(e=>{c.value=!1,e.code==200?(n({message:"保存成功",type:"success"}),C.value.close(),N()):n({message:e.message,type:"error"})}).catch(e=>{n({message:"接口异常",type:"error"})}),C.value.close(),c.value=!1},X=t=>{const l=t;console.log("保存术语表数据:",l),c.value=!0,l.id?(console.log("执行编辑操作，ID:",l.id),Ne(l.id,l).then(e=>{console.log("编辑成功响应:",e),console.log("响应数据类型:",typeof e),console.log("响应数据键:",Object.keys(e||{})),c.value=!1,e.code==200?(n({message:"保存成功",type:"success"}),F(),setTimeout(()=>{y.value&&y.value.close()},100)):n({message:e.message||"保存失败",type:"error"})}).catch(e=>{c.value=!1,console.error("编辑术语表失败:",e),n({message:"接口异常",type:"error"})})):(console.log("执行新建操作"),Se(l).then(e=>{console.log("新建成功响应:",e),console.log("响应数据类型:",typeof e),console.log("响应数据键:",Object.keys(e||{})),c.value=!1,e.code==200?(n({message:"保存成功",type:"success"}),F(),setTimeout(()=>{y.value&&y.value.close()},100)):n({message:e.message||"保存失败",type:"error"})}).catch(e=>{c.value=!1,console.error("新建术语表失败:",e),n({message:"接口异常",type:"error"})}))};function U(t){t?y.value.open(t):y.value.open({title:"",share_flag:"N",origin_lang:"",target_lang:""})}function z(t){C.value.open(),t?C.value.updateForm(JSON.parse(JSON.stringify(t))):C.value.updateForm({title:"",share_flag:"N",content:""})}function H(t){re.confirm("确定要删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{x.value=!0,Ee(t.id).then(l=>{l.code==200?(n({message:"删除成功",type:"success"}),F()):n({message:l.message,type:"error"})})})}function $(t){x.value=!0,Fe(t.id,{share_flag:t.share_flag}).then(l=>{x.value=!1,l.code==200?n({message:"操作成功",type:"success"}):(n({message:l.message,type:"error"}),t.share_flag=="Y"?t.share_flag="N":t.share_flag="Y")}).catch(l=>{n({message:"接口异常",type:"error"}),t.share_flag=="Y"?t.share_flag="N":t.share_flag="Y"})}async function B(t){try{E.value=!0;const l=await fetch(`/api/api/comparison/export/${t.id}`,{headers:{Authorization:`Bearer ${D.token}`}});if(!l.ok)throw new Error("文件下载失败");const e=await l.blob(),a=window.URL.createObjectURL(e),b=document.createElement("a");b.href=a,b.download=`${t.title}.xlsx`,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(a),n({message:"导出成功",type:"success"})}catch(l){console.error("下载失败:",l),n.error("文件下载失败，请稍后重试")}finally{E.value=!1}}async function p(){try{V.value=!0;const t=await fetch("/api/api/comparison/export/all",{headers:{Authorization:`Bearer ${D.token}`}});if(!t.ok)throw new Error("术语表导出失败");const l=await t.blob(),e=window.URL.createObjectURL(l),a=document.createElement("a");a.href=e,a.download=`all_terms_${new Date().toISOString().slice(0,10)}.zip`,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(e),n({message:"批量导出成功",type:"success"})}catch(t){console.error("导出失败:",t),n.error("术语表导出失败，请稍后重试")}finally{V.value=!1}}function q(t){window.open("/api/api/comparison/template")}function te(t){console.log("上传成功"),console.log(t),w.value=!1,t.code==200?(n({message:"导入成功",type:"success"}),F()):n({message:t.message,type:"error"})}function G(t){console.log("上传失败"),console.log(t),w.value=!1;let l="导入失败";try{if(t.message){const e=JSON.parse(t.message);e.message&&(l=decodeURIComponent(JSON.stringify(e.message).replace(/\\u/g,"%u")))}}catch(e){console.error("解析错误响应失败:",e),t.message&&typeof t.message=="string"&&(l=t.message)}n({message:l,type:"error"})}function oe(t){const e=t.name.substring(t.name.lastIndexOf(".")+1)==="xlsx";return e?(w.value=!0,console.log("isXlsx",e),e):(n({message:"请上传模板格式的文件",type:"error"}),!1)}function ae(t){x.value=!0,t.id&&qe(t.id,{share_flag:t.share_flag}).then(l=>{x.value=!1,l.code==200?n({message:"操作成功",type:"success"}):(n({message:l.message,type:"error"}),t.share_flag=="Y"?t.share_flag="N":t.share_flag="Y")}).catch(l=>{n({message:"接口异常",type:"error"}),t.share_flag=="Y"?t.share_flag="N":t.share_flag="Y"})}function se(t){re.confirm("确定要删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{x.value=!0,ze(t.id).then(l=>{l.code==200?(n({message:"删除成功",type:"success"}),N()):n({message:l.message,type:"error"})})})}return $e(()=>{F(),N()}),(t,l)=>{const e=m("el-button"),a=m("el-button-group"),b=m("el-upload"),I=m("el-switch"),O=m("el-table-column"),K=m("el-table"),Q=m("el-col"),W=m("el-row"),ne=ge("loading");return ve((g(),h("div",Ze,[r("div",Ge,[r("div",el,[l[4]||(l[4]=r("div",{class:"tab_li actived"},"我的",-1)),r("div",{class:"tab_li",onClick:l[0]||(l[0]=i=>t.$router.push("/corpus/square"))},"广场")]),(g(),h("div",ll,[r("div",tl,[o(a,null,{default:s(()=>[o(e,{class:_e(f.value=="terms"?"btn_active":"my_button"),plain:f.value!="terms",type:f.value=="terms"?"primary":"",onClick:l[1]||(l[1]=i=>u("terms"))},{default:s(()=>l[5]||(l[5]=[v(" 我的术语表 ",-1)])),_:1,__:[5]},8,["class","plain","type"]),o(e,{class:_e(f.value=="prompt"?"btn_active":"my_button"),plain:f.value!="prompt",type:f.value=="prompt"?"primary":"",onClick:l[2]||(l[2]=i=>u("prompt"))},{default:s(()=>l[6]||(l[6]=[v(" 我的提示语 ",-1)])),_:1,__:[6]},8,["class","plain","type"])]),_:1}),f.value=="terms"?(g(),h("div",ol,[o(e,{type:"primary",color:"#055CF9",onClick:U},{default:s(()=>l[7]||(l[7]=[v("新建",-1)])),_:1,__:[7]}),o(e,{type:"primary",style:{margin:"0 8px"},onClick:l[3]||(l[3]=i=>q())},{default:s(()=>l[8]||(l[8]=[v(" 模板下载 ",-1)])),_:1,__:[8]}),o(b,{name:"file","before-upload":oe,action:A.value,headers:{Authorization:"Bearer "+fe(D).token},"show-file-list":!1,"on-success":(i,T,k)=>te(i),"on-error":(i,T,k)=>G(i),disabled:w.value,style:{display:"inline-block"}},{default:s(()=>[o(e,{type:"primary",loading:w.value,disabled:w.value},{default:s(()=>[v(L(w.value?"导入中...":"导入文件"),1)]),_:1},8,["loading","disabled"])]),_:1},8,["action","headers","on-success","on-error","disabled"]),o(e,{type:"",onClick:p,loading:V.value,disabled:V.value},{default:s(()=>[v(L(V.value?"导出中...":"全部导出"),1)]),_:1},8,["loading","disabled"])])):M("",!0),f.value=="prompt"?(g(),h("div",al,[o(e,{type:"primary",color:"#055CF9",onClick:z},{default:s(()=>l[9]||(l[9]=[v("新建",-1)])),_:1,__:[9]})])):M("",!0)]),f.value=="terms"?(g(),h("div",sl,[S.value.length>0?(g(),Y(W,{key:0,gutter:24},{default:s(()=>[(g(!0),h(Z,null,le(S.value,(i,T)=>(g(),Y(Q,{xs:24,sm:8,key:T},{default:s(()=>[r("div",nl,[r("div",rl,[r("div",{class:"t",title:i.title},L(i.title),9,il),r("div",ul,L(i.origin_lang)+"-"+L(i.target_lang),1)]),r("div",dl,[r("span",cl,"共 "+L(i.term_count||0)+" 条术语",1)]),r("div",pl,[r("div",ml,[o(e,{type:"text",onClick:k=>U(i)},{default:s(()=>l[10]||(l[10]=[v("编辑",-1)])),_:2,__:[10]},1032,["onClick"]),o(e,{type:"text",style:{color:"red"},onClick:k=>H(i)},{default:s(()=>l[11]||(l[11]=[v("删除",-1)])),_:2,__:[11]},1032,["onClick"]),o(e,{type:"text",onClick:k=>B(i),loading:E.value,disabled:E.value},{default:s(()=>[v(L(E.value?"导出中...":"导出"),1)]),_:2},1032,["onClick","loading","disabled"])]),r("div",_l,[o(I,{modelValue:i.share_flag,"onUpdate:modelValue":k=>i.share_flag=k,"active-value":"Y","inactive-value":"N",onChange:k=>$(i)},null,8,["modelValue","onUpdate:modelValue","onChange"])])]),i.sample_terms&&i.sample_terms.length>0?(g(),h("div",gl,[o(K,{data:i.sample_terms,style:{width:"100%"},"max-height":"340",border:"","header-cell-class-name":"table_title","tooltip-effect":"light"},{default:s(()=>[o(O,{prop:"original",label:i.origin_lang,"show-overflow-tooltip":""},null,8,["label"]),o(O,{prop:"comparison_text",label:i.target_lang,"show-overflow-tooltip":""},null,8,["label"])]),_:2},1032,["data"])])):(g(),h("div",fl,l[12]||(l[12]=[r("div",{class:"text"},"暂无术语数据",-1)])))])]),_:2},1024))),128))]),_:1})):(g(),h("div",vl,l[13]||(l[13]=[r("img",{src:pe,alt:""},null,-1),r("div",{class:"text"},"暂无数据",-1)])))])):M("",!0),f.value=="prompt"?(g(),h("div",yl,[R.value.length>0?(g(),Y(W,{key:0,gutter:24},{default:s(()=>[(g(!0),h(Z,null,le(R.value,(i,T)=>(g(),Y(Q,{xs:24,sm:8,key:T},{default:s(()=>[r("div",bl,[r("div",hl,[r("div",{class:"t",title:i.title},L(i.title),9,xl)]),i.undelete?(g(),h("div",Vl)):(g(),h("div",wl,[r("div",kl,[o(e,{type:"text",onClick:k=>z(i)},{default:s(()=>l[14]||(l[14]=[v("编辑",-1)])),_:2,__:[14]},1032,["onClick"]),o(e,{type:"text",style:{color:"red"},onClick:k=>se(i)},{default:s(()=>l[15]||(l[15]=[v("删除",-1)])),_:2,__:[15]},1032,["onClick"])]),r("div",Cl,[o(I,{modelValue:i.share_flag,"onUpdate:modelValue":k=>i.share_flag=k,"active-value":"Y","inactive-value":"N",onChange:k=>ae(i)},null,8,["modelValue","onUpdate:modelValue","onChange"])])])),r("div",$l,[r("div",Tl,L(i.content),1)])])]),_:2},1024))),128))]),_:1})):(g(),h("div",Ul,l[16]||(l[16]=[r("img",{src:pe,alt:""},null,-1),r("div",{class:"text"},"暂无数据",-1)])))])):M("",!0)])),M("",!0)]),o(Xe,{ref_key:"termEditRef",ref:y,langs:j,loading:c.value,onConfirm:X,onRefresh:F},null,8,["loading"]),o(We,{ref_key:"promptEditRef",ref:C,loading:c.value,onConfirm:J},null,8,["loading"])])),[[ne,x.value]])}}},Fl=ie(Ll,[["__scopeId","data-v-a60eff7d"]]);export{Fl as default};
