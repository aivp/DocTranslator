import{_ as k,u as R,y as U,r as i,a1 as f,h as t,o as B,c as C,a as n,a2 as E,j as a,w as o,a3 as F,x as L,t as N,a4 as S,E as g}from"./index-CwiaCLCA.js";const T={class:"auth-page"},q={class:"auth-container"},K={__name:"index",setup(j){const h=R(),v=U(),d=i("login"),c=i(null),r=i(!1),s=f({email:"",password:""}),b=f({email:[{required:!0,message:"请填写邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"}]}),m=async()=>{c.value.validate(async p=>{if(p){r.value=!0;try{const e=await S(s);e.code===200?(h.updateToken(e.data.token),v.push({name:"home"})):g.error(e.message)}catch(e){console.error("登录失败:",e)}finally{r.value=!1}}else g.error("请正确填写表单")})};return(p,e)=>{const _=t("el-input"),u=t("el-form-item"),w=t("el-button"),y=t("el-form"),V=t("el-tab-pane"),x=t("el-tabs");return B(),C("div",T,[n("div",q,[e[3]||(e[3]=n("div",{class:"auth-header"},[n("img",{src:E,alt:"Logo",class:"auth-logo"}),n("h1",{class:"auth-title"},"欢迎回来"),n("p",{class:"auth-subtitle"},"请登录以继续")],-1)),a(x,{modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=l=>d.value=l),stretch:"",class:"auth-tabs"},{default:o(()=>[a(V,{label:"登录",name:"login"},{default:o(()=>[a(y,{model:s,ref_key:"loginFormRef",ref:c,rules:b,onKeyup:F(m,["enter"])},{default:o(()=>[a(u,{prop:"email"},{default:o(()=>[a(_,{modelValue:s.email,"onUpdate:modelValue":e[0]||(e[0]=l=>s.email=l),placeholder:"邮箱","prefix-icon":"el-icon-message"},null,8,["modelValue"])]),_:1}),a(u,{prop:"password"},{default:o(()=>[a(_,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=l=>s.password=l),type:"password","show-password":"",placeholder:"密码","prefix-icon":"el-icon-lock"},null,8,["modelValue"])]),_:1}),a(u,{class:"center"},{default:o(()=>[a(w,{type:"primary",size:"large",class:"auth-btn",onClick:m,loading:r.value},{default:o(()=>[L(N(r.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1},8,["modelValue"])])])}}},D=k(K,[["__scopeId","data-v-cdc22e5f"]]);export{D as default};
