import{_ as j}from"./nodata-PLA1kdwP.js";/* empty css                                                               */import{X as x,_ as ee,r as f,f as te,i as p,j as se,p as oe,o as l,c as _,a as s,k as a,w as i,n as h,m,D as k,C,F as q,q as E,t as u,au as I,l as M,E as d}from"./index-DFHtbIWh.js";import{f as U}from"./tools-B1vwaomo.js";function ae(r){return x({url:"/comparison/share",method:"get",params:r})}function le(r){return x({url:"/prompt/share",method:"get",params:r})}function ne(r){return x({url:`/comparison/copy/${r}`,method:"POST"})}function re(r){return x({url:`/prompt/copy/${r}`,method:"POST"})}function ce(r){return x({url:`/comparison/fav/${r}`,method:"POST"})}function ie(r){return x({url:`/prompt/fav/${r}`,method:"POST"})}const de={class:"page-center","element-loading-text":"loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.7)"},ue={class:"container"},_e={class:"tab_box"},pe={class:"content_box"},ve={class:"flex_box flex-between"},fe={key:0,class:"term_box"},me={class:"term_li"},ge={class:"flex_box title_box flex-between"},be=["title"],he={class:"des"},xe={class:"btn_box flex_box flex-between"},ye={class:"left"},ke={class:"right"},Ce=["onClick"],we={class:"des_box flex_box flex-between"},$e={class:"t_left"},Te={class:"t_right"},Ve={key:0,class:"table_box"},Pe={key:1,class:"no_data"},ze={key:2,class:"page_box"},De={key:1,class:"prompt_box"},Se={class:"term_li"},Be={class:"flex_box title_box flex-between"},Fe=["title"],Le={class:"btn_box flex_box flex-between"},Ne={class:"left"},Oe={class:"right"},je=["onClick"],qe={class:"des_box flex_box flex-between"},Ee={class:"t_left"},Ie={class:"t_right"},Me={class:"text_box"},Ue={class:"text"},Xe={key:1,class:"no_data"},Ae={key:2,class:"page_box"},Ge={__name:"square",setup(r){const n=f(!1),w=f([]),D=f(0),$=f([]),S=f(0),c=f("terms"),v=f({order:"latest",page:1,limit:9}),g=f({porder:"latest",page:1,limit:9}),T=async()=>{n.value=!0;try{const o=await ae(v.value);o.code===200&&(w.value=o.data.data)}catch(o){console.error("获取术语表数据时出错:",o)}n.value=!1};function X(){v.value.page=1,T()}function A(){g.value.page=1,V()}function G(o){v.value.page=o,T()}const V=async()=>{n.value=!0;try{const o=await le(g.value);o.code===200&&($.value=o.data.data)}catch(o){console.error("获取提示词数据时出错:",o)}n.value=!1};function H(o){v.value.page=o,V()}function J(o){n.value=!0,ne(o.id).then(e=>{n.value=!1,e.code==200?(d({message:"添加成功，请到我的术语表中查看",type:"success"}),o.added_count++):d({message:e.message,type:"error"})}).catch(e=>{d({message:"接口异常",type:"error"})})}function K(o){n.value=!0,re(o.id).then(e=>{n.value=!1,e.code==200?(d({message:"添加成功，请到我的提示词中查看",type:"success"}),o.added_count++):d({message:e.message,type:"error"})}).catch(e=>{d({message:"接口异常",type:"error"})})}function Q(o){n.value=!0,ce(o.id).then(e=>{n.value=!1,e.code==200?(d({message:"收藏成功",type:"success"}),o.faved==1?o.faved=0:o.faved=1):d({message:e.message,type:"error"})}).catch(e=>{d({message:"接口异常",type:"error"})})}function R(o){n.value=!0,ie(o.id).then(e=>{n.value=!1,e.code==200?(d({message:"收藏成功",type:"success"}),o.faved==1?o.faved=0:o.faved=1):d({message:e.message,type:"error"})}).catch(e=>{d({message:"接口异常",type:"error"})})}return te(()=>{T(),V()}),(o,e)=>{const y=p("el-button"),W=p("el-button-group"),b=p("el-option"),B=p("el-select"),F=p("el-table-column"),Y=p("el-table"),L=p("el-col"),N=p("el-row"),O=p("el-pagination"),Z=se("loading");return oe((l(),_("div",de,[s("div",ue,[s("div",_e,[s("div",{class:"tab_li",onClick:e[0]||(e[0]=t=>o.$router.push("/corpus/index"))},"我的"),e[5]||(e[5]=s("div",{class:"tab_li actived"},"广场",-1))]),s("div",pe,[s("div",ve,[a(W,null,{default:i(()=>[a(y,{class:k(c.value=="terms"?"btn_active":"my_button"),plain:c.value!="terms",type:c.value=="terms"?"primary":"",onClick:e[1]||(e[1]=t=>c.value="terms")},{default:i(()=>e[6]||(e[6]=[C(" 术语表 ",-1)])),_:1,__:[6]},8,["class","plain","type"]),a(y,{class:k(c.value=="prompt"?"btn_active":"my_button"),plain:c.value!="prompt",type:c.value=="prompt"?"primary":"",onClick:e[2]||(e[2]=t=>c.value="prompt")},{default:i(()=>e[7]||(e[7]=[C(" 提示词 ",-1)])),_:1,__:[7]},8,["class","plain","type"])]),_:1}),c.value=="terms"?(l(),h(B,{key:0,modelValue:v.value.order,"onUpdate:modelValue":e[3]||(e[3]=t=>v.value.order=t),style:{width:"100px"},onChange:X},{default:i(()=>[a(b,{value:"latest",label:"最新发布"}),a(b,{value:"fav",label:"收藏量"}),a(b,{value:"added",label:"添加量"})]),_:1},8,["modelValue"])):m("",!0),c.value=="prompt"?(l(),h(B,{key:1,modelValue:g.value.porder,"onUpdate:modelValue":e[4]||(e[4]=t=>g.value.porder=t),style:{width:"100px"},onChange:A},{default:i(()=>[a(b,{value:"latest",label:"最新发布"}),a(b,{value:"fav",label:"收藏量"}),a(b,{value:"added",label:"添加量"})]),_:1},8,["modelValue"])):m("",!0)]),c.value=="terms"?(l(),_("div",fe,[w.value.length>0?(l(),h(N,{key:0,gutter:24},{default:i(()=>[(l(!0),_(q,null,E(w.value,(t,P)=>(l(),h(L,{xs:24,sm:8,key:P},{default:i(()=>[s("div",me,[s("div",ge,[s("div",{class:"t",title:t.title},u(t.title),9,be),s("div",he,u(t.origin_lang)+"-"+u(t.target_lang),1)]),s("div",xe,[s("div",ye,[a(y,{type:"text",onClick:z=>J(t)},{default:i(()=>e[8]||(e[8]=[C("加入我的语料库",-1)])),_:2,__:[8]},1032,["onClick"])]),s("div",ke,[s("div",{class:k(t.faved==1?"icon_actived icon_star":"icon_star"),onClick:z=>Q(t)},[a(I,{"icon-class":t.faved==1?"favd":"fav"},null,8,["icon-class"])],10,Ce)])]),s("div",we,[s("div",$e,u(t.email)+" 被加入"+u(t.added_count)+"次",1),s("div",Te,u(M(U)(t.created_at)),1)]),t.content.length>0?(l(),_("div",Ve,[a(Y,{size:"small",data:t.content,style:{width:"100%"},"max-height":"160",border:"","header-cell-class-name":"table_title","tooltip-effect":"light"},{default:i(()=>[a(F,{prop:"origin",label:t.origin_lang,"show-overflow-tooltip":""},null,8,["label"]),a(F,{prop:"target",label:t.target_lang,"show-overflow-tooltip":""},null,8,["label"])]),_:2},1032,["data"])])):m("",!0)])]),_:2},1024))),128))]),_:1})):(l(),_("div",Pe,e[9]||(e[9]=[s("img",{src:j,alt:""},null,-1),s("div",{class:"text"},"暂无数据",-1)]))),D.value>0?(l(),_("div",ze,[a(O,{"current-page":v.value.page,"page-size":v.value.limit,layout:"prev, pager, next, jumper",total:D.value,"pager-count":5,onCurrentChange:G},null,8,["current-page","page-size","total"])])):m("",!0)])):m("",!0),c.value=="prompt"?(l(),_("div",De,[$.value.length>0?(l(),h(N,{key:0,gutter:24},{default:i(()=>[(l(!0),_(q,null,E($.value,(t,P)=>(l(),h(L,{xs:24,sm:8,key:P},{default:i(()=>[s("div",Se,[s("div",Be,[s("div",{class:"t",title:t.title},u(t.title),9,Fe)]),s("div",Le,[s("div",Ne,[a(y,{type:"text",onClick:z=>K(t)},{default:i(()=>e[10]||(e[10]=[C("加入我的提示词",-1)])),_:2,__:[10]},1032,["onClick"])]),s("div",Oe,[s("div",{class:k(t.faved==1?"icon_actived icon_star":"icon_star"),onClick:z=>R(t)},[a(I,{"icon-class":t.faved==1?"favd":"fav"},null,8,["icon-class"])],10,je)])]),s("div",qe,[s("div",Ee,u(t.email)+" 被加入"+u(t.added_count)+"次",1),s("div",Ie,u(M(U)(t.created_at)),1)]),s("div",Me,[s("div",Ue,u(t.content),1)])])]),_:2},1024))),128))]),_:1})):(l(),_("div",Xe,e[11]||(e[11]=[s("img",{src:j,alt:""},null,-1),s("div",{class:"text"},"暂无数据",-1)]))),S.value>0?(l(),_("div",Ae,[a(O,{"current-page":g.value.page,"page-size":g.value.limit,layout:"prev, pager, next, jumper",total:S.value,"pager-count":5,onCurrentChange:H},null,8,["current-page","page-size","total"])])):m("",!0)])):m("",!0)]),m("",!0)])])),[[Z,n.value]])}}},Re=ee(Ge,[["__scopeId","data-v-4ddbf255"]]);export{Re as default};
